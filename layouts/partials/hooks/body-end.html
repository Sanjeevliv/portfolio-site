<!-- Theme Toggle Button -->
<button id="theme-toggle" class="btn btn-link nav-link px-2" aria-label="Toggle theme" title="Toggle dark/light mode">
    <span id="theme-icon-dark" class="theme-icon">üóø</span>
    <span id="theme-icon-light" class="theme-icon" style="display: none;">üÉè</span>
</button>

<script>
    (function () {
        const themeToggle = document.getElementById('theme-toggle');
        const iconDark = document.getElementById('theme-icon-dark');
        const iconLight = document.getElementById('theme-icon-light');
        const html = document.documentElement;

        // Get saved theme or default to dark
        const savedTheme = localStorage.getItem('theme') || 'dark';
        setTheme(savedTheme);

        themeToggle.addEventListener('click', function () {
            const currentTheme = html.getAttribute('data-bs-theme') || 'dark';
            const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
            setTheme(newTheme);
            localStorage.setItem('theme', newTheme);
        });

        function setTheme(theme) {
            html.setAttribute('data-bs-theme', theme);
            if (theme === 'dark') {
                iconDark.style.display = 'inline';
                iconLight.style.display = 'none';
                document.body.classList.add('td-dark');
                document.body.classList.remove('td-light');
            } else {
                iconDark.style.display = 'none';
                iconLight.style.display = 'inline';
                document.body.classList.add('td-light');
                document.body.classList.remove('td-dark');
            }
        }
    })();
</script>
/* Custom styles for SRE Portfolio */

/* ============================================
   DARK/LIGHT THEME SYSTEM
   Uses data-bs-theme attribute on <html>
   This is future-proof - any new page automatically inherits the theme
   ============================================ */

/* Dark mode (default) */
:root,
[data-bs-theme="dark"] {
    --bg-primary: #0d1117;
    --bg-secondary: #161b22;
    --bg-tertiary: #21262d;
    --text-primary: #e6edf3;
    --text-secondary: #8b949e;
    --text-muted: #6e7681;
    --link-color: #58a6ff;
    --border-color: #30363d;
    --navbar-bg: #161b22;
    --sidebar-bg: #0d1117;
    --card-bg: #161b22;
    --code-bg: #1a1a2e;

    /* Syntax Highlighting */
    --code-text: #e6edf3;
    --token-comment: #8b949e;
    --token-punctuation: #7ee787;
    --token-property: #79c0ff;
    --token-boolean: #ff7b72;
    --token-number: #79c0ff;
    --token-string: #a5d6ff;
    --token-keyword: #ff7b72;
    --token-function: #d2a8ff;
    --token-operator: #7ee787;
}

/* Light mode */
[data-bs-theme="light"] {
    --bg-primary: #ffffff;
    --bg-secondary: #f6f8fa;
    --bg-tertiary: #eaeef2;
    --text-primary: #24292f;
    --text-secondary: #57606a;
    --text-muted: #6e7781;
    --link-color: #0969da;
    --border-color: #d0d7de;
    --navbar-bg: #24292f;
    --sidebar-bg: #f6f8fa;
    --card-bg: #ffffff;
    --code-bg: #f6f8fa;

    /* Syntax Highlighting */
    --code-text: #24292f;
    --token-comment: #6e7781;
    --token-punctuation: #0969da;
    --token-property: #8250df;
    --token-boolean: #cf222e;
    --token-number: #0550ae;
    --token-string: #0a3069;
    --token-keyword: #cf222e;
    --token-function: #8250df;
    --token-operator: #0969da;
}

/* ============================================
   GLOBAL STYLES (applies to ALL pages)
   ============================================ */

body {
    background-color: var(--bg-primary) !important;
    color: var(--text-primary) !important;
    transition: background-color 0.2s ease, color 0.2s ease;
}

/* Main content area */
.td-main,
.td-content,
.td-outer,
main,
article {
    background-color: var(--bg-primary) !important;
    color: var(--text-primary) !important;
}

/* Sidebar */
.td-sidebar,
.td-sidebar-nav,
.td-sidebar-link {
    background-color: var(--sidebar-bg) !important;
    color: var(--text-primary) !important;
}

/* Navbar - keep dark in both modes for visibility */
.td-navbar {
    background-color: var(--navbar-bg) !important;
}

[data-bs-theme="light"] .td-navbar {
    background-color: #24292f !important;
}

[data-bs-theme="light"] .td-navbar .nav-link,
[data-bs-theme="light"] .td-navbar .navbar-brand,
[data-bs-theme="light"] .td-navbar .navbar-brand__name {
    color: #ffffff !important;
}

/* Links */
a {
    color: var(--link-color);
}

a:hover {
    color: var(--link-color);
    opacity: 0.8;
}

/* Headings */
h1,
h2,
h3,
h4,
h5,
h6 {
    color: var(--text-primary) !important;
}

/* ============================================
   HOMEPAGE SPECIFIC SECTIONS
   (Cover blocks, feature cards, etc.)
   ============================================ */

.td-cover-block,
.td-box,
.blocks-cover,
.blocks-lead,
.td-cover-block--height-full,
section[class*="blocks-"] {
    background-color: var(--bg-primary) !important;
    color: var(--text-primary) !important;
}

/* Feature cards */
.blocks-feature,
.td-box--secondary {
    background-color: var(--bg-secondary) !important;
    color: var(--text-primary) !important;
}

/* Alternate section backgrounds */
.td-box--primary {
    background-color: var(--bg-tertiary) !important;
}

/* ============================================
   DOCUMENTATION PAGE STYLES
   ============================================ */

.td-toc,
.td-content-wrapper {
    background-color: var(--bg-primary) !important;
}

/* Fix TOC active link visibility in Dark Mode */
.td-toc .nav-link.active {
    background-color: transparent !important;
    color: var(--link-color) !important;
    font-weight: 600;
}

.td-toc .nav-link {
    color: var(--text-secondary) !important;
}

.td-toc .nav-link:hover {
    color: var(--link-color) !important;
}

/* Code blocks */
pre,
code {
    background-color: var(--code-bg) !important;
    color: var(--text-primary) !important;
}

/* Tables */
table {
    background-color: var(--bg-primary) !important;
    color: var(--text-primary) !important;
}

th,
td {
    border-color: var(--border-color) !important;
}

/* Mermaid diagrams */
.mermaid {
    width: 100%;
    max-width: 100%;
    overflow-x: auto;
    margin: 2rem 0;
    padding: 1rem;
    background: var(--code-bg) !important;
    border-radius: 8px;
}

.mermaid svg {
    min-width: 800px;
    min-height: 400px;
    max-width: none !important;
}

.mermaid .nodeLabel,
.mermaid .edgeLabel,
.mermaid .cluster-label {
    font-size: 14px !important;
}

/* ============================================
   THEME TOGGLE BUTTON
   ============================================ */

#theme-toggle-nav {
    font-size: 1.5rem;
    cursor: pointer;
    transition: transform 0.2s ease;
}

#theme-toggle-nav:hover {
    transform: scale(1.2);
}

/* ============================================
   BLOG PAGE STYLES
   ============================================ */

.td-blog,
.td-blog-posts-list {
    background-color: var(--bg-primary) !important;
    color: var(--text-primary) !important;
}

/* ============================================
   FOOTER STYLES
   ============================================ */

footer,
.td-footer {
    background-color: var(--bg-secondary) !important;
    color: var(--text-secondary) !important;
}

/* ============================================
   UTILITY OVERRIDES
   ============================================ */

/* Remove any hardcoded background colors from Docsy */
[data-bs-theme="light"] .bg-dark,
[data-bs-theme="light"] .bg-primary,
[data-bs-theme="light"] .text-white {
    background-color: var(--bg-primary) !important;
    color: var(--text-primary) !important;
}

/* Keep navbar items visible in light mode */
[data-bs-theme="light"] .td-navbar .bg-dark,
[data-bs-theme="light"] .td-navbar .bg-primary,
[data-bs-theme="light"] .td-navbar .text-white {
    background-color: transparent !important;
    color: #ffffff !important;
}

/* ============================================
   SYNTAX HIGHLIGHTING RULES
   ============================================ */

/* Apply to all code blocks */
code[class*="language-"],
pre[class*="language-"] {
    color: var(--code-text) !important;
    background: var(--code-bg) !important;
    text-shadow: none !important;
}

/* Code block backgrounds */
pre[class*="language-"] {
    background: var(--code-bg) !important;
}

:not(pre)>code[class*="language-"] {
    background: var(--code-bg) !important;
}

/* Token colors */
.token.comment,
.token.prolog,
.token.doctype,
.token.cdata {
    color: var(--token-comment) !important;
}

.token.punctuation {
    color: var(--token-punctuation) !important;
}

.token.property,
.token.tag,
.token.constant,
.token.symbol,
.token.deleted {
    color: var(--token-property) !important;
}

.token.boolean,
.token.number {
    color: var(--token-number) !important;
}

.token.selector,
.token.attr-name,
.token.string,
.token.char,
.token.builtin,
.token.inserted {
    color: var(--token-string) !important;
}

.token.operator,
.token.entity,
.token.url,
.language-css .token.string,
.style .token.string {
    color: var(--token-operator) !important;
    background: transparent !important;
}

.token.atrule,
.token.attr-value,
.token.keyword {
    color: var(--token-keyword) !important;
}

.token.function,
.token.class-name {
    color: var(--token-function) !important;
}

.token.regex,
.token.important,
.token.variable {
    color: var(--token-keyword) !important;
}

/* Namespace opacity */
.token.namespace {
    opacity: 0.7;
}

/* Inline code style */
:not(pre)>code {
    background: var(--code-bg) !important;
    color: var(--code-text) !important;
    padding: 0.2em 0.4em;
    border-radius: 3px;
}

/* Code toolbar (copy button) */
div.code-toolbar>.toolbar>.toolbar-item>a,
div.code-toolbar>.toolbar>.toolbar-item>button,
div.code-toolbar>.toolbar>.toolbar-item>span {
    background: var(--code-bg) !important;
    color: var(--code-text) !important;
}